<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2022-05-17" />
  <title>Descentralized database (social consensus)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<h1 id="descentralized-database-social-consensus">Descentralized
database (social consensus)</h1>
<h2 id="more-up-to-date-resources">More Up-to-date Resources</h2>
<ul>
<li><a href="https://www.inkandswitch.com/local-first.html">Local-first
software</a></li>
<li><a href="https://riffle.systems/">Riffle</a></li>
<li><a href="https://electric-sql.com/">ElectricSQL</a></li>
<li>localfirst.fm: #10 – Matt Wonlaw: cr-sqlite, syncing strategies and
incremental view maintenance<br />
Starting from: 00:53:20<br />
Episode webpage: <a href="https://localfirst.fm/10"
class="uri">https://localfirst.fm/10</a><br />
Media file: <a
href="https://media.transistor.fm/dce148a6/f3921284.mp3#t=3200"
class="uri">https://media.transistor.fm/dce148a6/f3921284.mp3#t=3200</a></li>
</ul>
<h2 id="old-notes">Old notes</h2>
<p>1- Append-only?, full history of operations. Deletes / edits do not
remove data, they only modify the “active state”</p>
<p>2- Agents are public keys or similar (DIDs?)</p>
<p>3- Operations are signed, and receivers verify if operation is valid,
and if sender is allowed</p>
<p>4- Operations form a Merkel-DAG (similar to git, they link to the
tips of current “active state”, like a commit/merge in git)</p>
<p>So far I think I’ve basically described <a
href="https://github.com/orbitdb/orbit-db">OrbitDB</a></p>
<p>Consensus is where things get real hard, <a
href="https://news.ycombinator.com/item?id=22920204">OrbitDb seems to
use a last-write-wins CRDT</a>, and although I don’t know the details of
orbitDb, I think for many simple use-cases, conflicts can just be
resolved on the social layer. But I think we need to provide agents with
good tools to resolve conflicts</p>
<p>I’ll try my best here with some ideas:</p>
<p>When merging, we can order operations by their timestamp, if
operations enter conflict, raise it to the conflicting agents, or
someone with permission to solve them.</p>
<p>If an agent makes public an operation that forks its own history,
mark agent as malicious or compromised, alert other agents, this needs
resolution on the social layer, you have proof of misconduct, an agent
has signed diverging operations</p>
<p>Any operation becomes fully settled if you have proof that all agents
of your system have referenced it directly or indirectly through newer
operations.</p>
<p>Timestamps can be upgraded by using <span class="citation"
data-cites="opentimestamps">@opentimestamps</span> to get proof that an
operation existed at time X (prevents creation of operations in
hindsight). Though this does not prove operation has been made
public</p>
</body>
</html>
